
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9. Mathematics &#8212; FlexSpec1 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10. FlexSpec 1 Guiding" href="guiding.html" />
    <link rel="prev" title="8. Physics" href="physics.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="mathematics">
<h1><span class="section-number">9. </span>Mathematics<a class="headerlink" href="#mathematics" title="Permalink to this headline">¶</a></h1>
<p>While exploring the physics of optics for the FlexSpec1 we encountered
aspects of mathematics tailored to optics. This section is a collection
of notes that guided our intuition to close the gaps between the theory
and the images we obtained with practice.</p>
<ul class="simple">
<li><p><strong>“Conventions”</strong> get in the way of the pure math.</p></li>
<li><p><strong>Beware</strong>! Trig <strong>folds</strong> quadrants!</p></li>
<li><p>Angles are measured as positive in a counter-clockwise direction, and negative in a clockwise direction using the “<span class="target" id="index-0"></span>right-hand-rule”.</p></li>
</ul>
<p>Most calculators and the human brain operate within the social
convention of “degrees”. Computer languages, for the most part, work
with radians. High school trigonometry has left most people with a
morbid fear of radians. When radians are used in their simplest terms
they offer a powerful shortcut to intuition for
back-of-the-envelope (<span class="target" id="index-1"></span>BOTE) work.</p>
<p>The slope-intercept equation from high school algebra
<span class="target" id="index-2"></span>equation;slope-intercept uses a “rise-over-run”
<span class="target" id="index-3"></span>mathematics;rise-over-run paradigm that amounts to the
tangent: <span class="math notranslate nohighlight">\(sin/cos\)</span>. The sin/cos projection winds up inside the
unit circle at the <span class="math notranslate nohighlight">\(cos(\theta)\)</span> position, while the tangent is
outside the unit circle and goes to infinity as <span class="math notranslate nohighlight">\(cos(\theta)
\rightarrow\;0\)</span>. The radian measure follows the unit circle and
represents an exact value. The tangent starts at 0 degrees (and
radians) and follows a line tangent to the outside of the unit circle.</p>
<div class="section" id="radians">
<h2><span class="section-number">9.1. </span>Radians<a class="headerlink" href="#radians" title="Permalink to this headline">¶</a></h2>
<p>With a spectrograph, the separation between two wavelengths, <span class="math notranslate nohighlight">\(\lambda\)</span>
and <span class="math notranslate nohighlight">\(\lambda+\Delta{\lambda}\)</span> may be calculated by simply (ha!)
differentiating the <span class="target" id="index-4"></span>grating equation. The goal is to state
dispersion in units of scale instead of units of wavelength:</p>
<div class="math notranslate nohighlight" id="equation-chainrule1">
<span class="eqno">(1)<a class="headerlink" href="#equation-chainrule1" title="Permalink to this equation">¶</a></span>\[\begin{split}\frac{\tt{d}\lambda}{\tt{d}x} &amp;= \frac{\tt{d}\lambda}{\tt{d}\beta} \\
            &amp;= \frac{\tt{d}\lambda}{\tt{d}\beta} \frac{\tt{d}\beta}{\tt{d}x}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\tt{d}x\)</span> is the distance from the grating towards the
sensor.</p>
<p>The farther the camera lens is from the grating, the higher the resolution
at the cost of dimmer light.</p>
</div>
<div class="section" id="angles">
<h2><span class="section-number">9.2. </span>Angles<a class="headerlink" href="#angles" title="Permalink to this headline">¶</a></h2>
<p>Angles <span class="target" id="index-5"></span>Angles;measurement are measured in a plane, taken as a
counter-clockwise rotation around a normal vector to the plane. In the
Cartesian coordinate system/plane, values start at zero at the
<span class="math notranslate nohighlight">\(X\)</span> axis and increase as the rotation goes from <span class="math notranslate nohighlight">\(X\)</span>,
through <span class="math notranslate nohighlight">\(Y\)</span>. The angle value wraps at zero and repeats. Negative
angles are simply those that move clockwise from zero.</p>
<p>Trigonometric identities “fold values” in their quadrants and pose a
number of computational problems for algorithms. For example,
<span class="math notranslate nohighlight">\(Y=sin(X) = 0.5\)</span> occurs at both positive and negative
<span class="math notranslate nohighlight">\(\pi/6\)</span> or 30 degrees. Similarly <span class="math notranslate nohighlight">\(Y=cos(X)=0.5\)</span> occurs
at <span class="math notranslate nohighlight">\(\pi/3\)</span> or 60 degrees. In other words, ambiguous results
unless one accounts for circumstances. The cross product returns
a vector normal to the plane of rotation, and with a sign representing
the direction of rotation. The magnitude of the vector can be turned
into exactly one angle. The magnitude of the angle is between <span class="math notranslate nohighlight">\(0\)</span> and
<span class="math notranslate nohighlight">\(pi\)</span> BUT the sign allows for the angle to move backwards from zero!
thus <span class="math notranslate nohighlight">\(2\pi\)</span> - alpha can take on value <span class="math notranslate nohighlight">\(\pi &lt; \alpha &lt; 2\pi\)</span>
without confusion.</p>
<p>This angle ambiguity is critical to computing solutions in spectroscopy.</p>
<p>To further complicate things</p>
</div>
<div class="section" id="small-angle-approximation">
<h2><span class="section-number">9.3. </span>Small Angle Approximation<a class="headerlink" href="#small-angle-approximation" title="Permalink to this headline">¶</a></h2>
<p>Kahan <a class="reference internal" href="references.html#kahan-1999" id="id1"><span>[Kahan-1999]</span></a> recommends the use of vectors over trig for the computation
of small angles.</p>
<p>Estimating accuracy of the <span class="target" id="index-6"></span>small angle approximation, taking a
McClaurian series at face value (Taylor’s Theorem around <span class="math notranslate nohighlight">\(x=0\)</span>),</p>
<div class="math notranslate nohighlight" id="equation-smallangleapproximation">
<span class="eqno">(2)<a class="headerlink" href="#equation-smallangleapproximation" title="Permalink to this equation">¶</a></span>\[\begin{split} \sin \theta &amp;= \sum^{\infty}_{n=0} \frac{(-1)^n}{(2n+1)!} \theta^{2n+1} \\
    &amp;= x - \frac{x^3}{3!} + \frac{x^5}{5!} - \cdots\quad\text{ for all } x\! \\\end{split}\]</div>
<p>Setting the second term <span class="math notranslate nohighlight">\(\;\theta^3\;/\;3! &gt; 1\;/\;206264.8\)</span>
gives an error approximation for 1 arcsecond. (There are 206264.8 arc-seconds in a radian.)
Looking for an error of 1 arcsecond and solving for <span class="math notranslate nohighlight">\(\theta\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-smallangleworked-frac-theta-3-3-4-8481369-times-10-6-frac-1-206064-8-theta-3-3-times-2-9088821-tt-times-10-5-3-6-6-times-2-9088821-tt-times-10-5-theta-e-ln-frac-6-times-2-9088821-times-10-5-3-tt-text-ln-3-for-cubed-root-0-0307545-tt-text-radians-theta-sim-1-76-tt-text-degrees-1-arcsecond-error-3-5-times-diameter-of-moon-sim-0-817-tt-text-degrees-at-one-tenth-arcsecond-error">
<span class="eqno">(3)<a class="headerlink" href="#equation-smallangleworked-frac-theta-3-3-4-8481369-times-10-6-frac-1-206064-8-theta-3-3-times-2-9088821-tt-times-10-5-3-6-6-times-2-9088821-tt-times-10-5-theta-e-ln-frac-6-times-2-9088821-times-10-5-3-tt-text-ln-3-for-cubed-root-0-0307545-tt-text-radians-theta-sim-1-76-tt-text-degrees-1-arcsecond-error-3-5-times-diameter-of-moon-sim-0-817-tt-text-degrees-at-one-tenth-arcsecond-error" title="Permalink to this equation">¶</a></span>\[\]</div>
</div>
<div class="section" id="gaussian">
<h2><span class="section-number">9.4. </span>Gaussian<a class="headerlink" href="#gaussian" title="Permalink to this headline">¶</a></h2>
<p>Normalized curves are used to match and measure effective width of
spectral lines. The process of producing a line is Gaussian in nature,
dominated by Maxwell-Boltzmann distribution but influenced by local
physics. Other curves include the Lorenzian and the Voigt profiles.
The Voigt profile is a combination of the Gaussian and lorenzian.
The math related to the Gaussian has aspects that make it attractive
for computation.</p>
<p>The Gaussian, and a few derivatives are:</p>
<div class="math notranslate nohighlight" id="equation-gaussian1">
<span class="eqno">(4)<a class="headerlink" href="#equation-gaussian1" title="Permalink to this equation">¶</a></span>\[\begin{split} y(x) &amp;= a exp^\Big(  (\frac{x-\bar{x})^{2}}{\sigma}  \Big) \\
 y^{\prime}(x) &amp;= -\frac{2a(x-\bar{x}}{\sigma}exp^\Big(  (\frac{x-\bar{x})^{2}}{\sigma}  \Big) \\
 y^{\prime\prime}(x) &amp;= 2\frac{a}{\sigma^{2}} \left(-\sigma + 2(x-\bar{x})^{2} \right) exp^\Big(  (\frac{x-\bar{x})^{2}}{\sigma}  \Big)\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(a\)</span> is the maximum occurring at <span class="math notranslate nohighlight">\(x = \bar{x}\)</span>, <span class="math notranslate nohighlight">\(\sigma\)</span> is
the variance.</p>
<p>The inflection points are minimum at <span class="math notranslate nohighlight">\(\bar{x}\)</span> and
maximum at <span class="math notranslate nohighlight">\(x=\bar{x}\pm\sqrt{\sigma/2}\)</span>.</p>
<p>In general fitting a Gaussian to a PSF for a star, allows cosmic ray
and sensor defects to be corrected – remembering to account for the
error associated with those corrections.</p>
<p>Derivative:</p>
<div class="math notranslate nohighlight" id="equation-gaussianderivative">
<span class="eqno">(5)<a class="headerlink" href="#equation-gaussianderivative" title="Permalink to this equation">¶</a></span>\[\frac{d}{dx} e^{\frac{-ax}{\sigma}}  =  -a/c e^{\frac{-ax}{\sigma}}\]</div>
</div>
<div class="section" id="fourier-transform">
<h2><span class="section-number">9.5. </span>Fourier Transform<a class="headerlink" href="#fourier-transform" title="Permalink to this headline">¶</a></h2>
<div class="math notranslate nohighlight" id="equation-fourier1">
<span class="eqno">(6)<a class="headerlink" href="#equation-fourier1" title="Permalink to this equation">¶</a></span>\[\begin{split}f(x) &amp;= \int_{-\infty}^{\infty} f(\xi) e^{2 \pi i} \textrm{d}\xi\\\end{split}\]</div>
<p>Note:</p>
<div class="math notranslate nohighlight" id="equation-fourier2">
<span class="eqno">(7)<a class="headerlink" href="#equation-fourier2" title="Permalink to this equation">¶</a></span>\[e^{2\; \pi i x} = e^{ax}\]</div>
<p>where <span class="math notranslate nohighlight">\(a = 2 \pi i\)</span>.</p>
</div>
<div class="section" id="parallactic-angle">
<h2><span class="section-number">9.6. </span>Parallactic Angle<a class="headerlink" href="#parallactic-angle" title="Permalink to this headline">¶</a></h2>
<p>The essential aspect of compensating for the parallactic angle is
handled in FlexSpec1 by using the Inertial Measurement Unit of an
include Nano 33 BLE Sense (or IoT) processor. By choosing an axis,
we simply make it ‘balanced’ w.r.t. the Earth’s gravity vector.
A little vector mathematics tells us the minimal direction to rotate
and some book-keeping tells us to avoid cable wrap.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">FlexSpec1</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="abstract.html">1. ABSTRACT</a></li>
<li class="toctree-l1"><a class="reference internal" href="flexspec1.html">2. Download FlexSpec1 Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="openquestions.html">3. Open Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ovio.html">4. OVIO Slit</a></li>
<li class="toctree-l1"><a class="reference internal" href="optics.html">5. Care of Optics</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments.html">6. Optical Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">7. OVERVIEW</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">8. Physics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">9. Mathematics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#radians">9.1. Radians</a></li>
<li class="toctree-l2"><a class="reference internal" href="#angles">9.2. Angles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#small-angle-approximation">9.3. Small Angle Approximation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaussian">9.4. Gaussian</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fourier-transform">9.5. Fourier Transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallactic-angle">9.6. Parallactic Angle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guiding.html">10. FlexSpec 1 Guiding</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocol.html">11. Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="controls.html">12. FlexSpec 1 Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication.html">13. Communications</a></li>
<li class="toctree-l1"><a class="reference internal" href="serial.html">14. Serial Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">15. User Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="cad.html">16. CAD Computer Aided Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="electronics.html">17. Electronics</a></li>
<li class="toctree-l1"><a class="reference internal" href="arduino.html">18. Arduino Chips</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">19. Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">20. Using Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="bom.html">21. Bill of Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="callamps.html">22. Calibration Lamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="outstanding.html">23. Outstanding Documentation Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">24. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="youtube.html">25. YouTube Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="printer.html">26. Printer</a></li>
<li class="toctree-l1"><a class="reference internal" href="merlin.html">27. MERLIN GCODE Tricks</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="physics.html" title="previous chapter"><span class="section-number">8. </span>Physics</a></li>
      <li>Next: <a href="guiding.html" title="next chapter"><span class="section-number">10. </span>FlexSpec 1 Guiding</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Jerrold L. Foote, Wayne Green, Greg Jones, Frank Parks, Anthony Rodda, Forrest Sims, Thomas C. Smith, Clarke Yeager.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/mathematics.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>